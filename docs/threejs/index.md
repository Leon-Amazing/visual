## 1-ThreeJS-ä»‹ç»

> å®˜ç½‘å¯¹ Threejs çš„ä»‹ç»éå¸¸ç®€å•ï¼šâ€œJavascript 3D libraryâ€ã€‚openGL æ˜¯ä¸€ä¸ªè·¨å¹³å° 3D/2D çš„ç»˜å›¾æ ‡å‡†ï¼ŒWebGL åˆ™æ˜¯ openGL åœ¨æµè§ˆå™¨ä¸Šçš„ä¸€ä¸ªå®ç°ã€‚web å‰ç«¯å¼€å‘äººå‘˜å¯ä»¥ç›´æ¥ç”¨ WebGL æ¥å£è¿›è¡Œç¼–ç¨‹ï¼Œä½† WebGL åªæ˜¯éå¸¸åŸºç¡€çš„ç»˜å›¾ APIï¼Œéœ€è¦ç¼–ç¨‹äººå‘˜æœ‰å¾ˆå¤šçš„æ•°å­¦çŸ¥è¯†ã€ç»˜å›¾çŸ¥è¯†æ‰èƒ½å®Œæˆ 3D ç¼–ç¨‹ä»»åŠ¡ï¼Œè€Œä¸”ä»£ç é‡å·¨å¤§ã€‚Threejs å¯¹ WebGL è¿›è¡Œäº†å°è£…ï¼Œè®©å‰ç«¯å¼€å‘äººå‘˜åœ¨ä¸éœ€è¦æŒæ¡å¾ˆå¤šæ•°å­¦çŸ¥è¯†å’Œç»˜å›¾çŸ¥è¯†çš„æƒ…å†µä¸‹ï¼Œä¹Ÿèƒ½å¤Ÿè½»æ¾è¿›è¡Œ web 3D å¼€å‘ï¼Œé™ä½äº†é—¨æ§›ï¼ŒåŒæ—¶å¤§å¤§æå‡äº†æ•ˆç‡

## 2-ThreeJS åŸºæœ¬è¦ç´ -åœºæ™¯

> scene åœºæ™¯ï¼šä¸€ä¸ªä¸‰ç»´ç©ºé—´ï¼Œæ‰€æœ‰ç‰©å“çš„å®¹å™¨ï¼Œå¯ä»¥æŠŠåœºæ™¯æƒ³è±¡æˆä¸€ä¸ªç©ºæˆ¿é—´ï¼Œå¯ä»¥å¾€æˆ¿é—´é‡Œæ”¾è¦å‘ˆç°çš„ç‰©ä½“ã€ç›¸æœºã€å…‰æºç­‰  
> åœ¨ ThreeJS ä¸­ï¼Œåœºæ™¯æ˜¯ä½œä¸ºæœ€å¤–å±‚å®¹å™¨å­˜åœ¨çš„ï¼Œå®ƒç›¸å½“äº html ä¸­çš„ window å¯¹è±¡ï¼Œæ‰€æœ‰ ThreeJS ä¸­çš„å¯¹è±¡ï¼Œéƒ½å¯ä»¥åœ¨ scene ä¸­æ‰¾åˆ°

```js
const scene = new THREE.Scene();
```

## 3-ThreeJS åŸºæœ¬è¦ç´ -ç›¸æœº

> ThreeJS å¿…é¡»è¦å¾€åœºæ™¯ä¸­æ·»åŠ ä¸€ä¸ªç›¸æœºï¼Œç›¸æœºç”¨æ¥ç¡®å®šä½ç½®ã€æ–¹å‘ã€è§’åº¦ï¼Œç›¸æœºçœ‹åˆ°çš„å†…å®¹å°±æ˜¯æˆ‘ä»¬æœ€ç»ˆåœ¨å±å¹•ä¸Šçœ‹åˆ°çš„å†…å®¹ã€‚åœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œå¯ä»¥è°ƒæ•´ç›¸æœºçš„ä½ç½®ã€æ–¹å‘å’Œè§’åº¦  
> ThreeJS ä¸­çš„ç›¸æœºåˆ†ä¸ºä¸¤ç§ä¸€ç§æ˜¯æ­£äº¤ç›¸æœº ğŸ“· å’Œé€è§†ç›¸æœº ğŸ“·

### 1)é€è§†ç›¸æœº

![](/threejs/PerspectiveCamera.png)

```js
const camera = new THREE.PerspectiveCamera(
  45, // è§†é‡è§’åº¦ FOV
  width / height, // é•¿å®½æ¯” aspect ratio
  1, // è¿‘æˆªé¢ near
  1000 // è¿œæˆªé¢ far
);
```

**é€è§†ç›¸æœºçš„ç‰¹ç‚¹ï¼šå°±æ˜¯ç¬¦åˆæˆ‘ä»¬äººçœ¼è§‚å¯Ÿäº‹ç‰©çš„ç‰¹ç‚¹ï¼Œ è¿‘å¤§è¿œå°**

### 2)æ­£äº¤ç›¸æœº

![](/threejs/OrthographicCamera.png)

```js
const camera = new THREE.OrthographicCamera(
  width / -2, // å·¦å¹³é¢ left
  width / 2, // å³å¹³é¢  right
  height / 2, // ä¸Šå¹³é¢ top
  height / -2, //ä¸‹å¹³é¢ bottom
  1, // è¿‘å¹³é¢ near
  1000 // è¿œå¹³é¢ far
);
```

**æ­£äº¤ç›¸æœºçš„ç‰¹ç‚¹ï¼šåœ¨æœ€ç»ˆæ¸²æŸ“çš„å›¾ç‰‡ä¸­ç‰©ä½“çš„å¤§å°éƒ½ä¿æŒä¸å˜**

## 4-Threejs çš„åŸºæœ¬è¦ç´ -ç¯å…‰

> å‡å¦‚æ²¡æœ‰å…‰ï¼Œæ‘„åƒæœºçœ‹ä¸åˆ°ä»»ä½•ä¸œè¥¿ï¼Œå› æ­¤éœ€è¦å¾€åœºæ™¯æ·»åŠ å…‰æºï¼Œä¸ºäº†è·ŸçœŸå®ä¸–ç•Œæ›´åŠ æ¥è¿‘ï¼ŒThreejs æ”¯æŒæ¨¡æ‹Ÿä¸åŒå…‰æºï¼Œå±•ç°ä¸åŒå…‰ç…§æ•ˆæœï¼Œæœ‰ç‚¹å…‰æºã€å¹³è¡Œå…‰ã€èšå…‰ç¯ã€ç¯å¢ƒå…‰ç­‰ã€‚

### 1)AmbientLight(ç¯å¢ƒå…‰)

ç¯å¢ƒå…‰ä¼šå‡åŒ€çš„ç…§äº®åœºæ™¯ä¸­çš„æ‰€æœ‰ç‰©ä½“ï¼Œç¯å¢ƒå…‰ä¸èƒ½ç”¨æ¥æŠ•å°„é˜´å½±ï¼Œå› ä¸ºå®ƒæ²¡æœ‰æ–¹å‘

```js
const light = new THREE.AmbientLight(0x404040); // soft white light
```

### 2)å¹³è¡Œå…‰ï¼ˆDirectionalLightï¼‰

å¹³è¡Œå…‰æ˜¯æ²¿ç€ç‰¹å®šæ–¹å‘å‘å°„çš„å…‰ã€‚è¿™ç§å…‰çš„è¡¨ç°åƒæ˜¯æ— é™è¿œ,ä»å®ƒå‘å‡ºçš„å…‰çº¿éƒ½æ˜¯å¹³è¡Œçš„ã€‚å¸¸å¸¸ç”¨å¹³è¡Œå…‰æ¥æ¨¡æ‹Ÿå¤ªé˜³å…‰ çš„æ•ˆæœ; å¤ªé˜³è¶³å¤Ÿè¿œï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥è®¤ä¸ºå¤ªé˜³çš„ä½ç½®æ˜¯æ— é™è¿œï¼Œæ‰€ä»¥æˆ‘ä»¬è®¤ä¸ºä»å¤ªé˜³å‘å‡ºçš„å…‰çº¿ä¹Ÿéƒ½æ˜¯å¹³è¡Œçš„ï¼Œæ­¤ç¯å¯ä»¥æŠ•å°„é˜´å½±

```js
const directionalLight = new THREE.DirectionalLight(0xffffff, 0.5);
```

### 3)ç‚¹å…‰æºï¼ˆPointLightï¼‰

ä»ä¸€ä¸ªç‚¹å‘å„ä¸ªæ–¹å‘å‘å°„çš„å…‰æºã€‚ä¸€ä¸ªå¸¸è§çš„ä¾‹å­æ˜¯æ¨¡æ‹Ÿä¸€ä¸ªç¯æ³¡å‘å‡ºçš„å…‰ï¼Œè¿™ç§å…‰å¯ä»¥æŠ•ä¸‹é˜´å½±

```js
const light = new THREE.PointLight(0xff0000, 1, 100);
```

### 4)èšå…‰ç¯ï¼ˆSpotLightï¼‰

è¿™ç§å…‰ä»ä¸€ä¸ªæ–¹å‘çš„å•ä¸ªç‚¹å‘å‡ºï¼Œæ²¿ç€ä¸€ä¸ªé”¥å½¢ï¼Œè·ç¦»å®ƒè¶Šè¿œï¼Œå®ƒçš„å°ºå¯¸å°±è¶Šå¤§ï¼Œè¿™ç§å…‰å¯ä»¥æŠ•ä¸‹é˜´å½±

```js
const spotLight = new THREE.SpotLight(0xffffff);
```

## 5-Threejs çš„åŸºæœ¬è¦ç´ -æ¸²æŸ“å™¨

> æ¸²æŸ“å™¨å°±æ˜¯å»æ¸²æŸ“ä½ åœºæ™¯ä¸­ç¯å…‰ã€ç›¸æœºã€ç½‘æ ¼...

```js
const renderer = new THREE.WebGLRenderer({
  antialias: true, // true/falseè¡¨ç¤ºæ˜¯å¦å¼€å¯åé”¯é½¿
  alpha: true, // true/false è¡¨ç¤ºæ˜¯å¦å¯ä»¥è®¾ç½®èƒŒæ™¯è‰²é€æ˜
  precision: "highp", // highp/mediump/lowp è¡¨ç¤ºç€è‰²ç²¾åº¦é€‰æ‹©
  premultipliedAlpha: false, // true/false è¡¨ç¤ºæ˜¯å¦å¯ä»¥è®¾ç½®åƒç´ æ·±åº¦ï¼ˆç”¨æ¥åº¦é‡å›¾åƒçš„åˆ†ç‡ï¼‰
  preserveDrawingBuffer: true, // true/false è¡¨ç¤ºæ˜¯å¦ä¿å­˜ç»˜å›¾ç¼“å†²
  maxLights: 3, // æœ€å¤§ç¯å…‰æ•°
  stencil: false, // false/true è¡¨ç¤ºæ˜¯å¦ä½¿ç”¨æ¨¡æ¿å­—ä½“æˆ–å›¾æ¡ˆ
});
```

## 6-Threejs çš„åŸºæœ¬è¦ç´ -OrbitControls

> è½¨é“æ§åˆ¶å™¨å…è®¸ç›¸æœºå›´ç»•ç›®æ ‡è¿è¡Œ

```js
const controls = new OrbitControls(camera, renderer.domElement);
```

## 7-Threejs çš„åŸºæœ¬è¦ç´ -Raycaster

> ç‚¹å‡»å°„çº¿ï¼Œç”¨äºç‚¹å‡»äº‹ä»¶ï¼Œç”¨äºé¼ æ ‡æ‹¾å–ï¼ˆè®¡ç®—é¼ æ ‡åœ¨ 3d ç©ºé—´ä¸­çš„å¯¹è±¡ï¼‰ç­‰

```js
const raycaster = new THREE.Raycaster();
```

## 8-Threejs çš„åŸºæœ¬è¦ç´ -loader

> åŠ è½½å™¨ï¼Œç‰¹æ®Šçš„ç‰©ä½“ä¾‹å¦‚æ¨¡å‹éœ€è¦ä½¿ç”¨åŠ è½½å™¨ï¼Œè€Œä¸”ä¸åŒæ ¼å¼çš„æ¨¡å‹éœ€è¦ä¸åŒçš„åŠ è½½å™¨

```js
const loader = new GLTFLoader();
const loader = new OBJLoader();
```

## 9-Threejs çš„åŸºæœ¬è¦ç´ -Mesh

> æè´¨(Material)+å‡ ä½•ä½“(Geometry)å°±æ˜¯ä¸€ä¸ª meshï¼ŒThreejs æä¾›äº†é›†ä¸­æ¯”è¾ƒæœ‰ä»£è¡¨æ€§çš„æè´¨ï¼Œå¸¸ç”¨çš„ç”¨æ¼«åå°„ã€é•œé¢åå°„ä¸¤ç§æè´¨ï¼Œè¿˜å¯ä»¥å¼•å…¥å¤–éƒ¨å›¾ç‰‡ï¼Œè´´åˆ°ç‰©ä½“è¡¨é¢ï¼Œæˆä¸ºçº¹ç†è´´å›¾

```js
const geometry = new THREE.BoxGeometry(1, 1, 1);
const material = new THREE.MeshBasicMaterial({ color: 0xffff00 });
const mesh = new THREE.Mesh(geometry, material);
scene.add(mesh);
```
